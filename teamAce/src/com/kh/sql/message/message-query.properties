selectMessage=select * FROM (SELECT RECVNO ,MSGNO, MNAME, GENDER, MCONTENT, PROFILEIMAGE, MESSAGE.MDATE, READCOUNT, RANK() OVER (PARTITION BY MNO ORDER BY MSGNO DESC) as orderRank FROM MESSAGE INNER JOIN PRIVATEMESSAGE pm USING(MSGNO) INNER JOIN MEMBER USING(MNO) LEFT JOIN (SELECT MNO, COUNT(*) as readCount FROM MESSAGE WHERE MSTATUS='Y' GROUP BY MNO) USING (MNO) WHERE recvNO=? and MSTATUS='Y') where orderRank=1
selectMessageNew=SELECT COUNT(*) FROM MESSAGE INNER JOIN PRIVATEMESSAGE PM USING (MSGNO) WHERE RECVNO=? and MNEW='Y'
updateMessageNew=UPDATE MESSAGE SET MNEW='N' WHERE EXISTS(SELECT RECVNO FROM PRIVATEMESSAGE WHERE MESSAGE.MSGNO=PRIVATEMESSAGE.MSGNO and RECVNO=?)
selectMessenger=SELECT MNO, MNAME, PROFILEIMAGE FROM FRIENDS INNER JOIN MEMBER ON (MEMBER.MNO=FRIENDS.MNOSEND) WHERE FRIENDS.STATUS='Y' and MNORECV=? UNION SELECT MNO, MNAME, PROFILEIMAGE FROM FRIENDS INNER JOIN MEMBER ON (MEMBER.MNO=FRIENDS.MNORECV) WHERE FRIENDS.STATUS='Y' and MNOSEND=?
selectMemberInfo=SELECT MNAME, PROFILEIMAGE FROM MEMBER WHERE MNO=?
selectMessageContent=SELECT MNO, RECVNO, MCONTENT FROM MESSAGE INNER JOIN PRIVATEMESSAGE USING (MSGNO) WHERE (MNO=? OR RECVNO=?)
insertMessage=INSERT INTO MESSAGE VALUES(SEQ_Message.nextval, ?, ?, DEFAULT, DEFAULT, DEFAULT)
insertPrivateMessage=INSERT INTO PRIVATEMESSAGE VALUES(?, SEQ_Message.curRval)