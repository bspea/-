selectList=SELECT QANO,QATITLE,QACONTENT,QAVIEW,QADATE,QALIKECOUNT,QAREPLYCOUNT,PROFILEIMAGE,MNAME FROM QABOARD A LEFT JOIN (SELECT QANO, COUNT(*) as qaLIKECOUNT FROM QABOARDLIKE GROUP BY(QANO)) USING (QANO) LEFT JOIN (SELECT QANO, COUNT(*) AS QAREPLYCOUNT FROM QAREPLY GROUP BY QANO) USING (QANO) JOIN MEMBER USING(MNO) WHERE A.STATUS='Y' ORDER BY QANO DESC
insertQABoard=INSERT INTO QABOARD VALUES(SEQ_QABOARD.NEXTVAL, ?,?,?,0,SYSDATE,DEFAULT)
selectQABoard=SELECT QANO,QATITLE,QACONTENT,QAVIEW,QADATE,qaLikeCount,qareplyCount,PROFILEIMAGE,MNAME FROM QABOARD A LEFT JOIN (SELECT QANO, COUNT(*) as qaLIKECOUNT FROM QABOARDLIKE GROUP BY(QANO)) USING (QANO) LEFT JOIN (SELECT QANO, COUNT(*) AS QAREPLYCOUNT FROM QAREPLY GROUP BY QANO) USING (QANO) JOIN MEMBER USING(MNO) where qano=? and a.status='Y' ORDER BY QANO DESC
increaseCount=UPDATE QABOARD SET QAVIEW=QAVIEW+1 WHERE QANO=?
#--SELECT QANO,QATITLE,QACONTENT,QAVIEW,QADATE,QALIKECOUNT,qareplyCount,PROFILEIMAGE,MNAME FROM QABOARD A LEFT JOIN (SELECT QANO, COUNT(*) as qaLIKECOUNT FROM QABOARDLIKE GROUP BY(QANO)) USING (QANO) LEFT JOIN (SELECT QANO, COUNT(*) AS QAREPLYCOUNT FROM QAREPLY GROUP BY QANO) USING (QANO) JOIN MEMBER USING(MNO) ORDER BY QANO DESC
#--SELECT QANO,QATITLE,QACONTENT,QAVIEW,QADATE,QALIKECOUNT,qareplyCount,PROFILEIMAGE,MNAME FROM QABOARD A LEFT JOIN (SELECT QANO, COUNT(*) as qaLIKECOUNT FROM QABOARDLIKE GROUP BY(QANO)) USING (QANO) LEFT JOIN (SELECT QANO, COUNT(*) AS QAREPLYCOUNT FROM QAREPLY GROUP BY QANO) USING (QANO) JOIN MEMBER USING(MNO) WHERE qaNo=? ORDER BY QANO DESC
lookupQABoard=SELECT QANO,QATITLE,QACONTENT,QAVIEW,QADATE,QALIKECOUNT,QAREPLYCOUNT,PROFILEIMAGE,MNAME FROM QABOARD A LEFT JOIN (SELECT QANO, COUNT(*) as qaLIKECOUNT FROM QABOARDLIKE GROUP BY(QANO)) USING (QANO) LEFT JOIN (SELECT QANO, COUNT(*) AS QAREPLYCOUNT FROM QAREPLY GROUP BY QANO) USING (QANO) JOIN MEMBER USING(MNO) WHERE A.STATUS='Y' ORDER BY QAVIEW DESC
goodupQABoard=SELECT QANO,QATITLE,QACONTENT,QAVIEW,QADATE,QALIKECOUNT,QAREPLYCOUNT,PROFILEIMAGE,MNAME FROM QABOARD A LEFT JOIN (SELECT QANO, COUNT(*) as qaLIKECOUNT FROM QABOARDLIKE GROUP BY(QANO)) USING (QANO) LEFT JOIN (SELECT QANO, COUNT(*) AS QAREPLYCOUNT FROM QAREPLY GROUP BY QANO) USING (QANO) JOIN MEMBER USING(MNO) WHERE A.STATUS='Y' ORDER BY qaLIKECOUNT DESC NULLS LAST
replyQABoard=SELECT QANO,QATITLE,QACONTENT,QAVIEW,QADATE,QALIKECOUNT,QAREPLYCOUNT,PROFILEIMAGE,MNAME FROM QABOARD A LEFT JOIN (SELECT QANO, COUNT(*) as qaLIKECOUNT FROM QABOARDLIKE GROUP BY(QANO)) USING (QANO) LEFT JOIN (SELECT QANO, COUNT(*) AS QAREPLYCOUNT FROM QAREPLY GROUP BY QANO) USING (QANO) JOIN MEMBER USING(MNO) WHERE A.STATUS='Y' ORDER BY QAREPLYCOUNT DESC NULLS LAST
latelyQABoard=SELECT QANO,QATITLE,QACONTENT,QAVIEW,QADATE,QALIKECOUNT,QAREPLYCOUNT,PROFILEIMAGE,MNAME FROM QABOARD A LEFT JOIN (SELECT QANO, COUNT(*) as qaLIKECOUNT FROM QABOARDLIKE GROUP BY(QANO)) USING (QANO) LEFT JOIN (SELECT QANO, COUNT(*) AS QAREPLYCOUNT FROM QAREPLY GROUP BY QANO) USING (QANO) JOIN MEMBER USING(MNO) WHERE A.STATUS='Y' ORDER BY QANO DESC
insertQALike=INSERT INTO QABOARDLIKE VALUES(SEQ_QALIKE.NEXTVAL, ?, ?, DEFAULT)
deleteQaLike=DELETE FROM QABOARDLIKE WHERE LNO=? AND MNO=?
deleteQABoard=UPDATE QABOARD SET STATUS='N' WHERE QANO=? AND MNO=?


#-- reply!?
selectQARlist=SELECT PROFILEIMAGE, MNAME, RCOMMENT, RDATE, likeCount FROM QAREPLY JOIN MEMBER USING(MNO) LEFT JOIN (select * from (SELECT RNO, COUNT(*) as likeCount FROM qareplylike GROUP BY RNO)) reli USING (RNO) WHERE QANO=? AND RSTATUS='Y' ORDER BY RNO DESC
insertQAReply=INSERT INTO QAREPLY VALUES(SEQ_QAREPLY.NEXTVAL,?,?,?,DEFAULT,DEFAULT)
lookupQAReply=SELECT PROFILEIMAGE, MNAME, RCOMMENT, RDATE, likeCount FROM QAREPLY JOIN MEMBER USING(MNO) LEFT JOIN (select * from (SELECT RNO, COUNT(*) as likeCount FROM qareplylike GROUP BY RNO)) reli USING (RNO) WHERE QANO=? AND RSTATUS='Y' ORDER BY likeCount DESC NULLS LAST